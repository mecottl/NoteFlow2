<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Editor - NoteFlow</title>

  <!-- Si ya compilas Tailwind local, usa tu /css/output.css y quita el CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="stylesheet" href="css/theme.css">
  <link rel="stylesheet" href="css/note.css">
</head>
<body class="bg-gray-950 text-gray-100 min-h-screen flex flex-col relative ">

  <!-- Fondo neural grid -->
  <div class="neural-grid"></div>

  <!-- Fondo sutil -->
  <div class="absolute inset-0 opacity-[0.02] bg-[url('/placeholder.svg?height=100&width=100')] bg-[length:50px_50px] -z-10"></div>

  <header class="p-6 border-b-2 border-purple-800 shadow-lg shadow-purple-900/30 relative z-10 bg-gray-950/80 backdrop-blur-sm">
    <div class="container mx-auto flex items-center justify-between">
      <a href="/notes" class="text-purple-400 hover:text-purple-300 flex items-center gap-3 text-lg font-semibold transition-all duration-300 hover:scale-105">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" class="lucide lucide-arrow-left">
          <path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>
        </svg>
        <span class="hidden sm:inline">Volver a Notas</span>
        <span class="sm:hidden">Volver</span>
      </a>

      <h1 id="pageTitle" class="text-2xl md:text-3xl font-bold text-purple-400 glow-text">
        Editor Neural
      </h1>

      <div class="flex items-center gap-4">
        <a id="logoutLink" href="login.html" class="text-gray-300 hover:text-purple-400 transition-colors text-sm">
          Cerrar sesión
        </a>
      </div>
    </div>
  </header>

  <main class="container mx-auto flex-1 p-4 md:p-8 flex flex-col gap-6 relative z-10">

    <!-- Indicador de estado -->
    <div id="status" class="mx-auto w-full bg-slate-800/80 border border-purple-300/30 rounded px-4 py-2 text-center text-sm text-purple-200/90 backdrop-blur"></div>

    <!-- Campo de título -->
    <input
      id="noteTitle"
      type="text"
      class="note-title-input w-full rounded-xl p-4 md:p-6 text-2xl md:text-3xl font-bold placeholder:text-purple-400/50 focus:outline-none focus:ring-2 focus:ring-purple-600 bg-transparent border-2 border-purple-300/30 text-purple-300 transition-all duration-300"
      placeholder="Título de tu nota ..."
      aria-label="Título de la nota"
    />

    <!-- Contenedor del editor con overlay -->
    <div class="editor-container relative flex-1 min-h-[60vh] md:min-h-[70vh] rounded-2xl overflow-hidden">

      <!-- Ghost (sugerencias IA) -->
      <div
        id="ghost"
        aria-hidden="true"
        class="absolute inset-0 z-[1] box-border p-6 md:p-6 text-transparent whitespace-pre-wrap break-words overflow-hidden pointer-events-none editor-scroll tracking-[0.02em]">
      </div>

      <!-- Textarea principal -->
      <textarea
        id="editor"
        class="absolute inset-0 z-[2] box-border w-full h-full p-6 md:p-6 bg-transparent border-0 outline-none resize-none text-slate-200 caret-purple-400 whitespace-pre-wrap break-words overflow-auto editor-scroll tracking-[0.02em]"
        placeholder="Comienza a escribir tu nota... La IA te ayudará con sugerencias inteligentes. Presiona TAB para aceptar sugerencias."
        aria-label="Contenido de la nota"
        spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="off"></textarea>

      <!-- Contador de palabras -->
      <div class="absolute bottom-4 right-6 z-[3] bg-slate-900/90 border border-purple-300/30 rounded-full px-3 py-1 text-[0.75rem] text-purple-300/80 backdrop-blur">
        <span id="wordCount">0</span> palabras
      </div>
    </div>

    <!-- Botones de acción -->
    <div class="flex flex-col sm:flex-row gap-4 justify-end items-stretch sm:items-center">
      <button id="deleteBtn"
        class="px-6 md:px-8 py-3 md:py-4 text-white rounded-full shadow-lg text-base md:text-lg flex items-center justify-center gap-3 transition-all duration-300 bg-gradient-to-br from-red-600 to-red-500 hover:from-red-500 hover:to-rose-400 hover:-translate-y-0.5 hover:scale-[1.02]">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" class="lucide lucide-trash-2">
          <path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/>
        </svg>
        <span>Eliminar</span>
      </button>

      <button id="saveBtn"
        class="px-6 md:px-8 py-3 md:py-4 text-white rounded-full shadow-lg text-base md:text-lg flex items-center justify-center gap-3 transition-all duration-300 bg-gradient-to-br from-purple-700 to-purple-500 hover:from-purple-600 hover:to-fuchsia-500 hover:-translate-y-0.5 hover:scale-[1.02]">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" class="lucide lucide-save">
          <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/>
        </svg>
        <span>Guardar Cambios</span>
      </button>
    </div>
  </main>



  <footer class="p-4 md:p-6 text-center text-gray-500 text-xs md:text-sm border-t-2 border-purple-800 shadow-inner shadow-purple-900/30 relative z-10 bg-gray-950/80 backdrop-blur-sm">
    <div class="container mx-auto">
      <p>&copy; 2025 Gerardo Mecott. NoteFlow</p>
      <p class="mt-1 text-purple-400/60">Sincronización neural • Escritura inteligente • Futuro ahora</p>
    </div>
  </footer>

  <script src="js/note.js"></script>
</body>
</html>
